# Polymarket RPi Monitor - Docker Compose
# Assumes VPN is configured at the system level (host networking)
#
# Usage:
#   docker-compose up -d
#   docker-compose logs -f

version: '3.8'

services:
  polymarket-monitor:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: polymarket-rpi-monitor
    restart: unless-stopped

    # Use host network to inherit system VPN
    network_mode: host

    environment:
      ZMQ_PUBLISH_ENABLED: "true"
      ZMQ_PUBLISH_ADDRESS: "tcp://*:5555"
      POLL_INTERVAL_SECONDS: "10"
      LOG_LEVEL: "INFO"

    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
